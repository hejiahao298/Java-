面向对象-多态

### **⾯向对象**
⾯向对象编程思想：将程序模块化的思想。
- 什么是⾯向对象？
⾯向对象编程思想诞⽣之前，程序开发采⽤的是⾯向过程的结构化编程⽅式，是⼀种⾯向功能划分的软
件结构。
最⼩粒度细化到⽅法这⼀层。
⾯向过程注重的是每⼀个步骤，⾯向对象关注点在于整件事情的模块化结构。
- 类和对象
类和对象的关系
每个对象都有特定的特征：1、属性。2、⽅法。
属性指的是对象的静态特征，⽅法⽤来描述对象的动态特征。
对象是⽤来描述客观存在的⼀个实体，改实体是由⼀组属性和⽅法构成。
类是与对象紧密结合的另外⼀个概念，类是产⽣对象的模版，所有的对象都是通过类来创建的。
⼆者的关系：类是对象的抽象化描述，这些对象具有相同的特征和动作（属性和⽅法）。
对象是类的具体实例。
Java 程序是以类位组织单元，程序运⾏时的主体是通过类创建的具体对象。

### **定义类**
```java
public class 类名{
 //定义属性，属性名符合驼峰式命名法
 public 数据类型 属性名;
 //定义⽅法，⽅法名符合驼峰式命名法
 public 返回值类型 ⽅法名(参数列表:数据类型 参数名){
 //⽅法体
 }
}
```
Java 关于返回值的定义分为两类：有返回值和⽆返回值，有返回值的⽅法需要在⽅法定义时指定返回值
的数据类型，并在⽅法体中⽤ return 将结果返回给外部调⽤者，加法运算。
如果⼀个⽅法不需要进⾏返回操作，将返回值类型定义为 void。
参数列表是指外部在调⽤该⽅法时需要传⼊到⽅法内部进⾏运算的数据。



### **构造函数、构造⽅法、构造器**
构造函数是⼀种特殊的⽅法，普通⽅法是⽤来描述某个动作的，构造⽅法是⽤来创建对象的。
⽅法名必须与类名⼀致。
不需要定义返回值类型。
构造函数可分为有参构造和⽆参构造，有参构造是指带参数的构造函数，⽆参构造是指没有参数的构造
函数。
任何⼀个类都默认⾃带⼀个⽆参构造函数，如果⼿动在类中定义⼀个有参构造，则会覆盖默认的⽆参构
造。

### **this 关键字**
this ⽤来指代当前类的实例化对象，通过 this 可以调⽤当前类的属性和⽅法，⽐如在有参构造中，通过
this 将外部传⼊的值赋给当前类的实例化对象。
this 除了可以在类中访问属性也可以在类中调⽤⽅法，类中的⽅法可以分为两类：构造⽅法、普通⽅
法。
⽤ this 调⽤这两类⽅法的语法也不同，调⽤构造函数的语法是 this(参数列表)，不能在普通⽅法中使⽤
this 调⽤构造函数。
⽤ this 调⽤普通⽅法，this.⽅法名(参数列表)，可以在构造函数中使⽤，也可以在普通⽅法中使⽤
### 
### **成员变量和局部变量**
变量的作⽤域是指在程序中可以通过变量名来访问该变量的范围，变量的作⽤域由变量被声明时所在位
置决定的，Java 中根据不同的作⽤域可以将变量分为成员变量和局部变量。
局部变量：如果⼀个变量在⽅法中声明，则该变量是局部变量。
成员变量：如果⼀个变量在⽅法外，类中声明，则该变量是成员变量。
```java
public class HelloWorld{
 int num2 = 2;
 public int test(){
 int num1 = 1;
 }
}
```
1、成员变量和局部变量的区别在于作⽤域不同，成员变量的作⽤域在整个类中，类中的每个⽅法都可
以访问该变量，局部变量的作⽤域只在定义该变量的⽅法中，出了⽅法体就⽆法访问。
2、成员变量和局部变量的初始值也不同，局部变量不会赋初始值，成员变量会赋初始值，具体的值是
由成员变量的数据类型决定的。

### **封装**
封装是指将类的属性隐藏在内部，外部不能直接访问和修改，如何实现？通过修改成员变量的可⻅性，
从公有改为私有。
封装的核⼼思想就是尽可能把属性都隐藏在内部，对外提供⽅法来访问，我们可以在这些⽅法中添加逻
辑处理来实现过滤，以屏蔽错误数据的赋值。
封装的步骤：
修改属性（成员变量）的访问权限为私有，使得外部不能直接访问。
提供外部可以直接调⽤的⽅法。
在该⽅法中加⼊对于属性的逻辑控制，避免出现逻辑上的错误。
什么是访问权限？
访问权限是指该属性可以被直接访问的范围，是在属性定义时设定的，访问权限的可选项⼀共有 4 种：
public、private、默认（不写）、protected，区别在于作⽤域范围不同。

### **static**
static 表示静态或者全局，可以⽤来修饰成员变量和成员⽅法以及代码块。
使⽤ static 修饰的成员变量和成员⽅法独⽴于该类的任何⼀个实例化对象，访问时不依赖于该类的对
象，⽽是直接通过类去访问，可以理解为被该类的所有实例对象所共⽤，所以说是全局的。
static 还可以修饰代码块，被 static 修饰的代码块叫做静态代码块。
```java
static {
 System.out.println(1);
}
```
静态代码块的特点是只执⾏⼀次，什么时候执⾏？当这个类被加载到内存时执⾏，不需要开发者⼿动调
⽤，会⾃动执⾏。
被加载到内存中的类叫做运⾏时类，静态代码块就是在家中类的时候执⾏的，因为类只加载⼀次，所以
静态代码块也只执⾏⼀次。

### **继承**
什么是继承？
继承是⽤来描述类之间的关系的，即⼀个类继承（拥有）另外⼀个类中的属性和⽅法，被继承的类叫做
⽗类，继承⽗类的类叫做⼦类。
继承的基本语法。
```java
public class 类名 extends ⽗类名{
}
```

```java
public class People {
 private int age;
 private char gender;

 public int getAge() {
 return age;
 }
 public void setAge(int age) {
 this.age = age;
 }
 public char getGender() {
 return gender;
 }
 public void setGender(char gender) {
 this.gender = gender;
 }
}
```

```java
public class Student extends People {
}
```
Java 中的继承是单继承，也就是说⼀个⼦类只能有⼀个直接⽗类。

### **⼦类访问⽗类**
创建⼀个⼦类对象的时候，会默认先创建⼀个⽗类对象，⽆论是通过有参构造或是⽆参构造来创建⼦类
对象，都是通过⽆参构造来创建⽗类对象的。
可以通过 super 关键字让⼦类创建对象时调⽤⽗类的有参构造。
```java
public Student() {
 super(1);
 System.out.println("通过⽆参构造创建了Student对象");
}
```
⼦类可以访问⽗类的构造⽅法、普通⽅法、成员变量，都是通过 super 关键字来完成，具体语法：
```java
构造⽅法：super(参数列表)
普通⽅法：super.⽅法名(参数列表)
成员变量：super.成员变量名
```
在⼦类的构造⽅法中，可以通过 super 访问⽗类的构造⽅法和普通⽅法。
在⼦类的普通⽅法中，只能通过 super 访问⽗类的普通⽅法。

### **⼦类的访问权限**
访问权限修饰符：public、protected、默认修饰符、private。
同⼀个类中 不同包 同包 ⼦类（不同包）
public 可以访问 可以访问 可以访问 可以访问
protected 可以访问 不能访问 可以访问 可以访问
默认修饰符 可以访问 不能访问 可以访问 不能访问
private 可以访问 不能访问 不能访问 不能访问

包：package，⽤来管理 Java ⽂件，⼀个项⽬中不可避免会出现同名的 Java 类，为了防⽌产⽣冲突，
可以把同名的 Java 类分别放⼊不同的包中。

### **⽅法重写**
⼦类在继承⽗类⽅法的基础上，对⽗类⽅法重新定义并覆盖的操作叫做⽅法重写。
构造⽅法不能被重新，⽅法重写的规则：
1、⽗⼦类的⽅法名相同。
2、⽗⼦类的⽅法参数列表相同。
3、⼦类⽅法的返回值与⽗类⽅法返回值类型相同或者是其⼦类。
4、⼦类⽅法的访问权限不能⼩于⽗类

### **⽅法重写 VS ⽅法重载**
位置：⽅法重写在⼦类中对⽗类⽅法进⾏重写，⽅法重载是在同⼀个类中。
⽅法名：⽅法重写相同，⽅法重载相同。
参数列表：⽅法重写相同，⽅法重载不同。
返回值：⽅法重写相同或是其⼦类，⽅法重载没有要求。
访问权限：⽅法重写不能⼩于⽗类，⽅法重载没有要求

### **多态**
⼀个事物具有多种表现形态，在 Java 程序中，定义⼀个⽅法，在具体的⽣成环境中根据不同的需求呈
现不同的业务逻辑，多态的前提是继承。
```java
public class Memeber {
 public void buyBook() {
 }
 
public class OrdinaryMember extends Memeber {
 public void buyBook() {
 System.out.println("普通会员买书打9折");
 }
}
--------------------------------------------------------------------------------------
public class SuperMember extends Memeber {
 public void buyBook() {
 System.out.println("超级会员买书打6折");
 }
}
--------------------------------------------------------------------------------------
public class Cashier {
 private Memeber memeber;
 public Memeber getMemeber() {
 return memeber;
 }
 public void setMemeber(Memeber memeber) {
 this.memeber = memeber;
 }
 public void settlement() {
 this.memeber.buyBook();
 }
}
--------------------------------------------------------------------------------------
public class Test {
 public static void main(String[] args) {
 OrdinaryMember ordinaryMember = new OrdinaryMember();
 SuperMember superMember = new SuperMember();
 Cashier cashier = new Cashier();
 cashier.setMemeber(superMember);
 cashier.settlement();
 }
}
```

### **抽象⽅法和抽象类**
如果⼀个⽅法只有⽅法的声明⽽没有具体的⽅法实现，这个⽅法就叫做抽象⽅法，Java 中的抽象⽅法需
要使⽤ abstract 关键字来修饰。
```java
public abstract void buyBook();
```
⼀旦类中定义了抽象⽅法，则该类也必须声明为抽象类，需要在类定义处添加 abstract 关键字。
```java
public abstract class Member {
 public abstract void buyBook();
}
```
抽象类与普通类的区别是抽象类不能被实例化，抽象⽅法与普通⽅法的区别是抽象⽅法没有⽅法体。
有抽象⽅法，但是包含了抽象⽅法的类必须定义为抽象类。即我们可以在抽象类中定义普通⽅法，但是在普通类中不能定义抽象⽅法。
如果⽗类是抽象类，⼀旦⼦类继承了该抽象⽗类，则⼦类必须对⽗类的抽象⽅法进⾏重写，否则程序报错。